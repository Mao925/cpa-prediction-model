# 📈 CPA予測モデル

過去の広告パフォーマンスデータ（日別のコスト、インプレッション数、クリック数など）に基づいて、指定した広告予算で獲得できるコンバージョン数とCPA（顧客獲得単価）を予測するStreamlitアプリケーションです。

![アプリのスクリーンショット](https://placehold.co/800x450/f0f2f6/444?text=App%20Screenshot)

## ✨ 主な機能

- **インタラクティブな予測**: 予算額を自由に入力し、予測されるコンバージョン数とCPAをリアルタイムで確認できます。
- **データの可視化**: 予算と予測結果（コンバージョン数・CPA）の関係性をグラフで直感的に把握できます。
- **柔軟なデータ入力**: 全期間データと、より重視したい直近のデータを分けてアップロードすることで、予測の重み付けを調整できます。
- **モデル情報の確認**: 学習に使用されたデータや、予測モデルの内部情報（回帰係数）を確認できます。

## 🔧 必要な環境

- Python 3.8 以上

## 🚀 セットアップと実行方法

1.  **リポジトリをクローンする:**
    ```bash
    git clone [https://github.com/](https://github.com/)[あなたのユーザ名]/[リポジトリ名].git
    cd [リポジトリ名]
    ```

2.  **必要なライブラリをインストールする:**
    ```bash
    pip install -r requirements.txt
    ```

3.  **Streamlitアプリケーションを実行する:**
    ```bash
    streamlit run app.py
    ```
    （Pythonファイル名が異なる場合は、`app.py`の部分を実際のファイル名に置き換えてください）

4.  **ブラウザで操作する:**
    コマンドを実行すると、Webブラウザでアプリケーションが自動的に開きます。サイドバーの指示に従って、分析用のCSVファイルを2つアップロードしてください。

## 📄 データ要件

分析には、以下の列を含むCSVファイルが必要です。

- `コスト`
- `インプレッション数`
- `クリック数`
- `クリック率`
- `コンバージョン数`
- `インプレッションシェア`
- `ページ最上部のインプレッションシェア`

※ カラム名は完全一致している必要があります。

## 🧠 モデルについて

このアプリケーションは2段階の予測モデルで構成されています。

1.  **従属指標予測モデル (LightGBM)**: ユーザーが入力した「コスト」から、「インプレッション数」や「クリック数」などの中間的な指標を予測します。
2.  **最終コンバージョン数予測モデル (重回帰分析)**: 「コスト」と、ステップ1で予測された各指標を使って、最終的な「コンバージョン数」を予測します。
